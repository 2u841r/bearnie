---
import BaseLayout from "@/layouts/BaseLayout.astro";
import Navigation from "@/components/global/navigation/Navigation.astro";
import CodeImagePreview from "@/components/code-image/CodeImagePreview.astro";
import CodeImageBottomBar from "@/components/code-image/CodeImageBottomBar.astro";
---

<BaseLayout showFooter={false} showNavigation={false} bodyClass="bg-muted">
  <div
    class="fixed inset-0 flex flex-col 2xl:max-w-350 mx-auto bg-muted overflow-hidden scrollbar-hide"
  >
    <Navigation variant="docs" />

    <div
      class="relative flex flex-1 min-h-0 bg-background rounded-lg lg:rounded-2xl m-2 lg:m-3 lg:mt-0 mt-0 overflow-hidden scrollbar-hide"
    >
      <!-- Main Content Area -->
      <div class="flex-1 min-w-0 min-h-0 flex flex-col overflow-hidden scrollbar-hide">
        <!-- Preview Area -->
        <CodeImagePreview />

        <!-- Bottom Settings Bar -->
        <CodeImageBottomBar />
      </div>

      <!-- Border overlay -->
      <div
        class="pointer-events-none absolute inset-0 rounded-lg lg:rounded-2xl ring-1 ring-inset ring-border"
      >
      </div>
    </div>
  </div>

  <!-- Toast -->
  <div
    id="toast"
    class="fixed bottom-4 right-4 bg-foreground text-background px-4 py-2 rounded-lg text-sm font-medium opacity-0 transition-opacity duration-300 pointer-events-none z-50"
  >
    Copied!
  </div>

  <script>
    import "@/components/code-image/scripts/code-image-controller";
  </script>
</BaseLayout>
